(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d92f"],{"5Ya5":function(t,e,n){"use strict";var a=n("KJgn");n.n(a).a},AyOo:function(t,e,n){"use strict";n.r(e);var a=n("14Xm"),o=n.n(a),r=n("D3Ub"),l=n.n(r),i=n("THlk"),s=n("Aeqt"),c={filters:{statusFilter:function(t){return{published:"success",draft:"gray",deleted:"danger"}[t]},addHostUrl:function(t){return t.startsWith("/")?s.a+t:t}},data:function(){return{list:null,listLoading:!0,totalCount:0}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return l()(o.a.mark(function n(){var a;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.listLoading=!0,n.next=3,Object(i.b)({page:e});case 3:a=n.sent,t.list=a.products,t.totalCount=a.totalCount,t.listLoading=!1;case 7:case"end":return n.stop()}},n,t)}))()},pageChandle:function(t){console.log(t),this.fetchData(t)},editHandle:function(t){console.log(t)},delHandle:function(t){var e=this;this.$confirm("此操作将永久删除该项目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}),console.log(t)}}},u=(n("5Ya5"),n("KHd+")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.$index+1)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"名字",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"图片",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("img",{staticClass:"cover-img",attrs:{src:t._f("addHostUrl")(e.row.coverImg),alt:e.row.name}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"描述",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.descriptions)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"价格",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.price)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"库存",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.quantity)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){t.editHandle(e.row)}}},[t._v("修改")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){t.delHandle(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-pagination",{attrs:{total:t.totalCount,background:"",layout:"prev, pager, next"},on:{"current-change":t.pageChandle}})],1)},[],!1,null,"de122eee",null);d.options.__file="index.vue";e.default=d.exports},KJgn:function(t,e,n){},THlk:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return i});var a=n("t3Un"),o=n("X4fA"),r=n("Aeqt");function l(t){return Object(a.a)(r.a+"/api/v1/admin/products",{headers:{authorization:"Bearer "+Object(o.a)()},params:t})}function i(t){return Object(a.b)(r.a+"/api/v1/admin/products",t,{headers:{authorization:"Bearer "+Object(o.a)()}})}}}]);